<div class="container mt-4">
  <h2>Cart</h2>
  <table class="table">
    <thead>
      <tr>
        <th colspan="2">Product</th>
        <th>Quantity</th>
        <th>Remove</th>
        <th>Price</th>
      </tr>
    </thead>
    <tbody>
      @for(item of cartItems; track $index){
      <tr>
        <td>
          <img [src]="item.thumbnail" alt="{{ item.title }}" width="60" />
        </td>
        <td>
            <h6 class="mt-3">{{ item.title }}</h6>
        </td>
        <td>
          <div class="input-group w-50 mt-2">
            <button
              class="btn btn-secondary"
              (click)="updateQuantity(item.id, (quantities[item.id] || 1) + 1)"
            >
              +
            </button>
            <input
              type="text"
              class="form-control text-center"
              [value]="quantities[item.id] || 1"
              readonly
            />
            <button
              class="btn btn-secondary"
              (click)="updateQuantity(item.id, (quantities[item.id] || 1) - 1)"
            >
              -
            </button>
          </div>
        </td>
        <td>
          <button
            class="btn btn-danger mt-2"
            (click)="removeItem(item.id)"
          >
            &times;
          </button>
        </td>
        <td>
          <p class="mt-3">{{ item.price | currency: 'EGP ' }}</p>
        </td>
      </tr>
      }
    </tbody>
  </table>
  <div class="text-end">
    <h5>Total: {{ total | currency: 'EGP ' }}</h5>
  </div>
</div>
